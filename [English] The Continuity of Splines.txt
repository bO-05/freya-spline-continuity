For the past year, Iâ€™ve been asking myself

How do you define a smooth path?

Itâ€™s an innocent question thatÂ 
seems straightforward at first

After all, weâ€™ve used paths throughout historyÂ Â 

both in the real world and inÂ 
my field of game development

But it turns out, this goes muchÂ 
deeper than one might expect.

What do we mean by path?

And for that matter, what do we mean by smooth?

I was propelled into a year long journey

filled with twists and turns

unexpected realizations and discoveries

making connections to thingsÂ 
I hadnâ€™t thought of before

I was knee-deep in research and math papers.

I wrote pages and pages of notes, eventually IÂ Â 

got to the point of finding errors inÂ 
numerous resources online, and then,

I got burnt out

But, I have finally reachedÂ 
the destination of my journey

and this is where yours will begin.

Iâ€™m so happy to finally share with you

the culmination of that year long deepÂ 
dive, into the continuity of splines

In the virtual worlds we create,Â 
thereâ€™s often a need to define paths.

These can take many different forms, suchÂ 
as this conveyor belt in satisfactory,

or this more complex type of pathÂ 
that you see in this rollercoaster,

using a path for not onlyÂ 
position, but for rotation as well

We also use paths in 2D games, to animateÂ 
things like this in a smooth manner

In fact, almost all animations inÂ 
games have a type of path definedÂ Â 

for every single joint in a characterâ€™s body

Your browser has paths defined forÂ 
every letter in every word you read

Even in art tools, we sometimes useÂ 
something called a gradient map. This too,Â Â 

is a type of path, where the input is luminosityÂ 
instead of time, and the output is in color space

Now, these might seem pretty unrelated

These are wildly different conceptsÂ 
from all over the digital world,Â Â 

but there is something they all have in common

All of them, are splines

And this journey starts, with BÃ©zier curves

The most basic way to createÂ 
a path between two points,Â Â 

is to simply draw a straight line between them

We can then blend between these twoÂ 
points, to find any point in between

The input to this function, is a percentage,Â 
or, a t-value, a value from 0 to 1

that determines how far we want toÂ 
go from the first point to the second

This is the most common type of blendingÂ 
function, known as lerp, or, linear interpolation.

Mathematically, we can define lerp asÂ 
a function that takes a single value,Â Â 

our t-value from 0 to 1,

and uses that to blend between the two points

where 0 gives you the first pointÂ 
and 1 gives you the endpoint.

But, usually, when we create a path,Â Â 

we want to be able to create smoothÂ 
curves, not just straight lines

So what if we add another point?

Instead of just two points, we nowÂ 
have three, and between them, two lines

We can then use the exact same lerp function,Â 
to blend between these points on each line.

But what if we then connect these two points?

We now have a third line,Â 
between the interpolated points,Â Â 

and letâ€™s try using lerp on that line as well

Now watch what happens to thisÂ 
point, as we change t from 0 to 1

This, is the magic of BÃ©zier curves.Â 
Using only linear interpolation,Â Â 

we end up with a smooth curve.

This one in particular, isÂ 
a quadratic BÃ©zier curve

Of course, we donâ€™t have to stop here

We can add another point, lerp on those lines,

connect those points, lerp on those lines

connect those two points, andÂ 
finally, lerp on the last line

And again, this will trace outÂ 
this beautifully smooth path

This one has one more point, and is of one degreeÂ 
higher, meaning this is the cubic bÃ©zier curve.

The cubic BÃ©zier is by far, the most common curve

Almost every font and vector graphicsÂ 
tool, is using the cubic bÃ©zier

And so itâ€™s worth digging deeper into how it works

So letâ€™s write all this down!

We have 4 points, Pâ‚€ through Pâ‚ƒ

We then get these intermediate points, beforeÂ 
the final point that we get out of the function

This method of, recursively lerping betweenÂ 
our points, is called DeCasteljauâ€™s algorithm

Itâ€™s very popular, and incredibly easy to remember

you just lerp until you run out of things to lerp!

Itâ€™s also very numerically stable, but it canÂ 
sometimes be a little expensive to calculate

Letâ€™s look at the same math,Â 
but from a different perspective

If we write all these lerps out as a mathÂ 
function, we can shuffle things around,Â Â 

and express them as a factor of each point!

This is called the BernsteinÂ 
form of BÃ©zier curves.

A geometric interpretation of this, isÂ 
taking the vectors that represent each point,Â Â 

scaling each of them by their own cubicÂ 
polynomial, and adding them all up.

These polynomials might seem like theyÂ 
came out of nowhere, but this is justÂ Â 

what you get when rearranging the lerp mathÂ 
to be expressed as a factor of each point

These polynomials act asÂ 
influences of each control point

So in the beginning, the first point has allÂ 
influence, this is then slowly shifted over,Â Â 

until the last point has all the influence

This is a special type of weightedÂ 
sum, called a convex combination,Â Â 

as these polynomials addÂ 
up to 1 for all values of t

A third interpretation Iâ€™d like toÂ 
show, is particularly interesting,Â Â 

because it allows us to write more optimized code

Instead of writing them as factors of points, whatÂ 
if we rearrange them as factors of powers of t?

As you can see, we have a constantÂ 
factor, t, t squared, t cubed

The reason this is computationally efficient,Â Â 

is that we can cache these coefficients,Â 
for each arrangement of the control points.

Now, a geometric interpretation of this one is,Â Â 

a little harder to wrap your head around.Â 
Itâ€™s, definitely not as intuitive as the others

But we can think of it as 4 vectors thatÂ 
are each scaled by specific powers of t.Â Â 

We have a constant Pâ‚€, plus a vector scaled by t,Â Â 

plus a vector scaled by t squared,Â 
plus a vector scaled by t cubed

And so, even though all three of theseÂ 
are describing the exact same curveÂ Â 

mathematically, they have different geometricÂ 
interpretations and performance characteristics

Thereâ€™s one last way we can rearrange this math,Â 
that is by far, my favorite - the matrix form

One thing I particularly like about it, isÂ 
that it separates out all the magic numbers,Â Â 

it lets us see patterns and symmetriesÂ 
that were otherwise hard to spot

This is called the characteristicÂ 
matrix, of the cubic bÃ©zier curve

Now, this matrix form actually encapsulates bothÂ 
the bernstein and the polynomial interpretation

If we multiply the powers of tÂ 
by the characteristic matrix,Â Â 

we get the bernstein polynomials

If we instead multiply the characteristic matrixÂ Â 

by the point matrix, we getÂ 
the polynomial coefficients

But, a cubic bÃ©zier curve doesnâ€™t get us very far.Â Â 

What if we want to create aÂ 
longer, more complicated path?

Luckily, bÃ©ziers generalizeÂ 
to any number of points

For this set of control points, we are doingÂ 
the exact same thing as before. Lerp untilÂ Â 

there are no more things to lerp, and weâ€™reÂ 
left with one point, tracing out the path

Not that, anyone would call it this, but,Â 
technically this would be a dodecic bÃ©zier curve

Just like the cubic bÃ©zier, we canÂ 
describe the influence of each point,Â Â 

with its bernstein basis polynomials

As you can see, the same principle applies,Â Â 

it starts out with the firstÂ 
point having full influence,Â Â 

and then it will ride the waves through theÂ 
middle, until the last point gets full influence.

But, if we want to use this for pathsÂ 
in games, we now have a problem.

Letâ€™s say we want to use this path toÂ 
define a road, from one town to another.

If we focus on a single control point - youÂ 
can see, its influence is, actually acrossÂ Â 

the entire curve. Which in practice means that ifÂ 
we move this point around, the entire curve willÂ Â 

actually change shape. And this is a huge problemÂ 
if we want to create precise and intricate shapes,Â Â 

snaking around mountain ranges, or whateverÂ 
else might be in the way of our road.

In other words, we have no local control. EveryÂ 
movement of every point affects the entire curve

In addition, it doesnâ€™t actuallyÂ 
pass through most points,Â Â 

making it very difficult to make aÂ 
specific paths of the shape you want.

And finally, given the sheerÂ 
number of control points,Â Â 

itâ€™ll either be numerically unstableÂ 
or very expensive to calculate.

Clearly, higher degree bÃ©zierÂ 
curves are not the answer

we need to dive deeper, to find a better way

A way to control shapes without affectingÂ 
every single other point in the curve

And perhaps, we left our cubicÂ 
bÃ©zier curve a little too early

Maybe, they were just, feeling a little lonely

Perhaps they just needed some friendsÂ 
to realize their full potential,Â Â 

to work as a team and achieveÂ 
what they couldnâ€™t do on their own

And together, they form the bÃ©zier spline

Instead of having just one segment,Â Â 

we now have multiple bÃ©zier curvesÂ 
joined together, sharing endpoints

Traversing this path requiresÂ 
some extra work though

The input t-value was traditionally from 0 to 1,Â 
acting as a kind of percentage along the curve

But in this case, our parameterÂ 
range has to extend across all curves

If you look at the full input range, we canÂ 
easily map each curve to each whole number

So letâ€™s define a u-value, theÂ 
input parameter for the whole spline

The integer part can thenÂ 
represent the curve index

and the fractional part, the localÂ 
t-value for each individual curve

And so now, weâ€™ve definedÂ 
a simple method to create,Â Â 

shape, and move along a set of cubic bÃ©zier curves

This is now getting a little more complex,Â Â 

so letâ€™s make sure weâ€™re on the same pageÂ 
about what all of these elements are called

The input u-value, is in a one-dimensionalÂ 
space called parameter space

The points we define, are called control points

A spline then generates individualÂ 
curves based on those control points,Â Â 

where each curve is effectivelyÂ 
using its own math function

These curves meet end to endÂ 
at points called joins or knots

Note that in this case, the joinsÂ 
happen to also lie on control points

but this is not always the case

Each curve is then assigned anÂ 
interval in the input parameter space,

that helps us associate anyÂ 
given input u value to a curve

The values here are called knot values

and the distance between them, knot intervals

In this video, weâ€™ll beÂ 
focusing on uniform splines,

where all of our knot intervals have theÂ 
same length, in this case a length of 1,

making it very easy to map eachÂ 
curve to the unit interval of 0 to 1

Non-uniform splines, whereÂ 
the knot interval varies,Â Â 

are significantly more complicated,Â 
so letâ€™s save that for a future video

Now, we wanted to use this to createÂ 
a road from one town to another

but, we struggled to get itÂ 
to work with a single curve,Â Â 

because we didnâ€™t have localÂ 
control, among other things

So, has our spline fixed these problems?

Well, if we map the basisÂ 
functions into our parameter space,

we can analyze the weights, toÂ 
see if we now have local control

If you look at the influenceÂ 
of this control point,Â Â 

it lies entirely withinÂ 
the span of the third curve

What this means, is that ifÂ 
we move this control point,

only that span will be affected, leavingÂ 
the rest of the spline completely unchanged

If we look at this point, you can seeÂ 
that its influence is twice as large,

which makes sense as two curves share this point,Â Â 

but it still doesnâ€™t span furtherÂ 
than those two curve segments,

and so we still have local control, againÂ 
leaving the rest of the spline unchanged

So with the cubic bÃ©zier spline,Â 
weâ€™ve regained local control!

Not only that - but becauseÂ 
weâ€™re using cubic bÃ©ziers,

it doesnâ€™t actually get any moreÂ 
expensive by adding more points

Weâ€™re effectively just sampling one cubic bÃ©zier,Â Â 

even though the path isÂ 
much longer and more complex

So compared to the higher-degreeÂ 
bÃ©zier curve, itâ€™s cheap!

Finally - if we look back at ourÂ 
original set of control points,Â Â 

we donâ€™t just pass throughÂ 
the start and the end anymore

We now pass through every third point,Â Â 

which means its significantly easierÂ 
to create whatever shape you want

In other words, itâ€™s nowÂ 
interpolating every third point

Itâ€™s, really no wonder why the cubicÂ 
bÃ©zier spline has become so loved

It really gives you a huge amount of control

You can make, pretty accurate circlesÂ 
with it (though not actual circles)

You can be a little cheekyÂ 
and place the middle twoÂ Â 

points exactly thirdway to make linear segments

Itâ€™s the spline used when doing vector graphics,Â Â 

especially in font rendering,Â 
or Photoshopâ€™s pen tool

The key to the undeniable flexibility ofÂ 
the bÃ©zier spline, lies in the arrangementÂ Â 

of the two control points next to the curveÂ 
joins, sometimes called the tangent points

They have three common configurations,Â 
all with different properties

One is the split tangents, that you can use toÂ 
make sharp corners, also known as broken tangents

The second one is where you align theÂ 
three points around the curve join

This ensures the two curves areÂ 
tangent with each other at that join

Finally, you can also mirror theÂ 
tangent points around the join,

making them not only aligned, but also theÂ 
same distance from their shared control point

With all these tools in mind, we can now easilyÂ 
create paths, and animate objects on it, right?

Although, something seems wrong. Look at how theyÂ 
move across the curve joins, especially this one.

It seems to suddenly change velocity.

And so this, is where we need to talkÂ 
about a concept, called Continuity

Continuity is a measure ofÂ 
how â€œconnectedâ€ the curves are

As you can see, these curves are connected!

The curves meet at the joins,Â 
and so we can give this a name

This spline is Câ° continuous

If we separate these curves,Â 
itâ€™s no longer continuous at all,Â Â 

and so itâ€™s no longer Câ° continuous either

So what continuity means is thatÂ 
position changes continuously,Â Â 

thereâ€™s no sudden jump, orÂ 
discontinuity, in this path

But, we noticed something was wrong withÂ 
the way our cubes were moving across joins

They appeared to make little â€œjumpsâ€ in speed

And any time you want to analyze change,Â 
itâ€™s worth looking into derivatives

Remember the matrix form of the cubic bÃ©zier?

One very nice feature of this form, is thatÂ 
calculating the derivative is trivially easy

All we need to do is to differentiate theÂ 
powers-of-t matrix, using the power rule

Now, this might seem a little abstract, whatÂ 
is the derivative of a curve in 2D space?

Well, a more common name for the first derivativeÂ 
of position with respect to time, is, velocity!

The second derivative is called acceleration

The third derivative isÂ 
called the lesser known, jolt

Now that we know how to calculate theÂ 
velocity, letâ€™s see how it behaves in this path

Did you notice how it â€œjumpsâ€ at every join?

The length changes, in other words

Thereâ€™s a discontinuity in speed

We can make this even more explicitÂ 
by drawing the graph of the velocity

Notice what happens at every join

TheÂ Â 

velocity graph is discontinuous!

Itâ€™s disconnected at every join

So even though we aligned our tangents,Â 
thereâ€™s a sudden change in speed

Now watch what happens to theÂ 
velocity graph if we make theseÂ Â 

tangent points mirrored, instead of just aligned

The velocity around the curve is now continuous!

Thereâ€™s no sudden jump anywhere anymore

This curve is now, CÂ¹ continuous,Â 
because both its position,Â Â 

and itâ€™s first derivative, velocity, is continuous

Now, for continuity to be valid, all previousÂ 
derivatives have to be continuous too

Every CÂ¹ continuous path is also Câ° continuous

If we disconnect these curves in position,Â 
itâ€™s neither Câ° or CÂ¹ continuous anymore,

even though the velocity isÂ 
still continuous in and of itself

The discontinuity in position prevents it fromÂ 
being classified under any continuity class

But why does mirroring the tangentÂ 
points make it CÂ¹ continuous?

This is where looking at the algebra is helpful

First, letâ€™s label our points.

Now, Câ° continuity is trivial

these two curves share theÂ 
point Pâ‚ƒ so thatâ€™s already done.

CÂ¹ continuity seems to happen whenÂ 
the tangent points are mirrored

Notice how when we move them, theÂ 
velocity becomes discontinuous

So, to write this algebraically, thisÂ 
is the condition that has to be met

The velocity at the end of curve A, whereÂ 
the input t-value is 1, has to be equal to

the velocity at the start of curveÂ 
B, where the input t-value is 0

You can plug in the equation here forÂ 
the bÃ©zier curve, and solve for Pâ‚„

Iâ€™ll spare you all the algebra,Â 
but, this is what you end up with

which is what we would expect!

Pâ‚„ is now equal to Pâ‚‚ reflected around Pâ‚ƒ

In other words, itâ€™s mirrored

Now, Iâ€™ve made Pâ‚„ grayed out,Â 
as weâ€™ve actually lost a littleÂ Â 

bit of control now if we wantÂ 
this join to have CÂ¹ continuity

because Pâ‚„ is now fully determined by Pâ‚‚ and Pâ‚ƒ

but, itâ€™s a little sacrifice weâ€™re willing to make

Notice how the velocity staysÂ 
continuous no matter where we move Pâ‚‚

One would hope that CÂ¹ continuity couldÂ 
fix all of our issues with animation

weâ€™ve clearly improved it byÂ 
removing that velocity discontinuity

but thereâ€™s still a more subtle thing going on

Letâ€™s take a closer look

Can you see how the boxes suddenly and harshlyÂ 
starts turning in the other direction here?

The only way for something to changeÂ 
direction, is through acceleration

so letâ€™s investigate how itÂ 
changes across this spline

We can already see that weÂ 
have another discontinuity

it makes a huge jump at the join

As you can see in the graph, itâ€™s discontinuous

So, again, letâ€™s write our accelerationÂ 
continuity constraint explicitly

For CÂ² continuity, the accelerationÂ 
at the end of curve A, has to equalÂ Â 

the acceleration at the start of curve B

Skipping all the intermediateÂ 
steps, this is what we end up with!

Geometrically, we can interpret this as, Pâ‚…Â 
should be placed at the vector from Pâ‚‚ to Pâ‚ƒ

originating from Pâ‚

multiplied by 4

Pâ‚… is now fully constrained by Pâ‚ Pâ‚‚ and Pâ‚ƒ

If youâ€™re familiar with constraints,Â 
you might have already spotted a problem

But, this works!

If we change the shape of theÂ 
first curve, the position,Â Â 

velocity and acceleration are all continuous, soÂ 
we successfully joined bÃ©ziers with CÂ² continuity

or, did we?

Something very bad is about to happen

Hereâ€™s whatâ€™s up:

Weâ€™ve been talking about ensuringÂ 
continuity around the join at Pâ‚ƒ

But in order for us to makeÂ 
the entire spline CÂ² continuous

we need to also apply these continuityÂ 
constraints around the other joins

P5 will now determine the position of Pâ‚‡Â 
because again, mirrored tangents for CÂ¹

The same applies to Pâ‚â‚€

For CÂ² continuity, Pâ‚„ Pâ‚… and Pâ‚†Â 
now control the position of Pâ‚ˆ

And Pâ‚ˆ Pâ‚‰ and Pâ‚‡ controls the position of Pâ‚â‚

Weâ€¦ donâ€™t seem to have aÂ 
lot left to control, do we?

Now watch what happens if we move aÂ 
single point, even just a tiny bit

As you can see, it yeets off to fucking wherever,Â 
making it absolutely useless as a spline

But!! itâ€™s very very smooth!

Look at how smooth this movement is!

At least personally, as someone who hasÂ 
been staring at these things for a year

thereâ€™s something mesmerizing about CÂ² continuity

Letâ€™s also look at the acceleration

Now this actually has graveÂ 
implications for cubic bÃ©ziers

You canâ€™t make a cubic bÃ©zier CÂ² continuous,Â Â 

it is, literally impossible,Â 
without losing local control

And, having that control is the wholeÂ 
point of using splines in the first place!

Our beloved cubic bÃ©zier has betrayed us :(

it was so useful for creating shapes,Â Â 

but now weâ€™ve discovered thisÂ 
huge flaw in its construction

But, because weâ€™re all curiousÂ 
cats, we have to ask ourselves,Â Â 

what happens if we go to CÂ³ continuity?

And so, same thing here, the thirdÂ 
derivative at the end of curve A

has to match the third derivativeÂ 
at the start of curve B

This is now getting significantly more messy

The geometric interpretation isÂ 
almost useless at this point but

weâ€™re basically taking the vector from Pâ‚€ to Pâ‚ƒ

adding it to Pâ‚ƒ

then we take the vector fromÂ 
Pâ‚‚ to Pâ‚ƒ and from Pâ‚‚ to Pâ‚

add those two together

add it to the first vector

and multiply it [deep breath]

by 6

Long story short, the position of Pâ‚†Â 
is now determined by Pâ‚€ Pâ‚ Pâ‚‚ and Pâ‚ƒ

Our problem of losing local controlÂ 
has now reached its worst case

We donâ€™t have control over Pâ‚‰Â 
anymore, and the same goes for Pâ‚â‚‚ ğŸ˜”

The curve is now even moreÂ 
sensitive to the initial conditions

a tiny movement of a controlÂ 
point in the first curve,Â Â 

will massively throw the rest of the spline around

In fact, weâ€™ve lost so much control, thatÂ 
this canâ€™t even be called a spline anymore

itâ€™s actually equivalent to simplyÂ 
extrapolating the first curve,Â Â 

by increasing our t-value beyond 1

And since this is now just, oneÂ 
curve, not only is it CÂ³ continuous

itâ€™s actually Câˆ because there are no joinsÂ 
anymore, all derivatives are connected

To summarize - in a cubic bÃ©zier, when theÂ 
tangent points are mirrored, we have CÂ¹ continuity

When we have a broken join, the velocity is noÂ 
longer continuous, so itâ€™s only Câ° continuous

When the curve is entirely disconnected,Â 
thereâ€™s no continuity at all

An important thing to remember,Â Â 

what weâ€™ve been focusing on is theÂ 
continuity at the join between curves

because every other point on the curve,Â 
is Câˆ, as they use the same function

For a more formal definition, two functions A,Â Â 

and B, are Câ¿ continuous, if the 0áµ—Ê° throughÂ 
the náµ—Ê° derivative are all equal at the join

This, is called, Parametric Continuity

Continuity is absolutely centralÂ 
to the discussion of splines,

and itâ€™s actually the primary motivator forÂ 
investigating multiple different types of splines

But, weâ€™re not quite done yet with continuity,Â Â 

because thereâ€™s a different type ofÂ 
continuity lurking in the shadows

So we now know, mirroredÂ 
tangent points are CÂ¹, alright

broken tangent points are Câ°

but, what about aligned tangent points?

Clearly, thereâ€™s some kind ofÂ 
continuity we care about here

Even if it has a sudden speed change

If weâ€™re using these for vector graphics,Â 
we donâ€™t really care about â€œspeedâ€

we only care about the shape it creates in the end

This is exactly what GeometricÂ 
Continuity is all about

When we look at the velocity, sure, itÂ 
might have this sudden jump in length,Â Â 

which, in this case is a change in speed

but again, what if we donâ€™t care about speed?

What if we only care about the shape?

To analyze this, we can get the tangent vectorÂ 
by simply normalizing the velocity vector

in other words, forcing it to have a length of 1

Letâ€™s also throw in the normal vector

because itâ€™s trivial to calculate in 2D, andÂ 
it helps us visualize this a little better

Now, this is, perfectly continuous, right?

the change in speed has literallyÂ 
no effect on our tangent and normal

This is called Tangent Continuity,Â 
and weâ€™re going to call this GÂ¹

At this point, you probablyÂ 
know where this is going right?

That 1 next to the G is practicallyÂ 
begging us to investigate

what is GÂ²?

This is not just a mathematical curiosity,Â Â 

GÂ² continuity is actuallyÂ 
crucial in industrial design

especially for shiny thingsÂ 
like car bodies or phones

and perhaps a little sneakily,Â 
the shape of the apple app icon

In order for us to analyze this,Â Â 

weâ€™re gonna have to enter the thirdÂ 
dimension, and turn on the lights

What weâ€™ve got here, is a perfectly reflectiveÂ 
surface, which will help us analyze the geometry

If we look closely, we can seeÂ 
that, something is, wrong here

Our tangents are perfectly aligned

and yet, somehow, thereâ€™sÂ 
a seam in our reflection!

Isnâ€™t it enough to just, align the tangents?

Clearly, itâ€™s not

And if we change the background to these dots,Â Â 

itâ€™s made even more clearÂ 
just how discontinuous this is

This doesnâ€™t just apply to bÃ©zier curves

A perhaps unexpected placeÂ 
where this problem occurs

is when you join circular arcs to flat segments

Here too, we see this extremelyÂ 
sharp discontinuity at the seam

And again, the dots willÂ 
make an even stronger case

And thereâ€™s no trickÂ Â 

here! These are perfect, circular arcs

But they too, only join with GÂ¹ continuity

which might be a little unexpected, since weÂ 
often think of circles as this ideal smooth shape

So what is going on here?

First, letâ€™s look at the tangent directions

Now, they have quite a bit of overlap, so,Â 
for clarity letâ€™s use the normals instead

Now watch how they change asÂ 
we move them across this path

You might notice they suddenly startÂ 
and stop rotating at the joins,Â Â 

right where the circularÂ 
arcs meet the flat segment

The angle of the tangent vector canÂ 
illuminate this problem even more clearly

Notice how the angle isÂ 
changing at a constant rate,Â Â 

then comes to a complete stop, and thenÂ 
it suddenly and immediately starts again.

In fact, this is inherent to the nature of circles

Circles are the special case where theÂ 
angle is changing at a constant rate

and flat lines is the special caseÂ 
where the angle doesnâ€™t change at all

So how do we even begin to analyze this,Â 
to find out more about GÂ² continuity?

We need a parameter-independent, or,Â 
speed-independent way to measure this

This, is where we need to talk about curvature

Given a point on a curve, thereâ€™s a circleÂ 
that describes the curvature at that point

This is called the osculating circle

You can think of it as, the circle that hasÂ 
the same curvature as the curve, at that point

The radius of this circle, isÂ 
1 divided by the curvature!

Curvature can be calculated usingÂ 
the determinant between the velocityÂ Â 

and the acceleration, divided by the speed cubed

The determinant up thereÂ 
is a little confusing, but,Â Â 

itâ€™s equivalent to what is commonlyÂ 
known as the â€œ2D cross productâ€

or the perpendicular dot product

or, more accurately, itâ€™s theÂ 
wedge product returning a bivector

but, thatâ€™s a topic for another day

So what does the curvatureÂ 
look like across this spline?

Letâ€™s travel along and see

There are a few interestingÂ 
observations we can make

The first is that, even thoughÂ 
a point is only Câ° continuous

itâ€™s possible to make theÂ 
curvature continuous at that point

The second is that, even if a join is CÂ¹, thatÂ 
doesnâ€™t guarantee us curvature continuity either

And of course, itâ€™s especially bad in theÂ 
middle, where thereâ€™s a huge jump in curvature

A very popular way to analyze curvature, isÂ 
using this handy tool, known as a curvature comb

Letâ€™s again focus on a singleÂ 
join, between curve A and B

The curvature comb grows larger,Â 
the tighter the curve turns

and the more flat the curveÂ 
is, curvature approaches 0

Now, we know that in order for us to have GÂ¹Â 
continuity, we have to align the tangent points

In mathematical terms, this meansÂ 
P4, has to be a vector startingÂ Â 

from Pâ‚ƒ in the same direction asÂ 
Pâ‚‚ to Pâ‚ƒ scaled by some value!

This means we have one degree of freedom,

because this variable Î²â‚ can be any positive value

If itâ€™s 1, the tangents are mirrored,Â 
while any other value scales it

You might notice that the curvature comb isnâ€™tÂ 
lining up - so this is still only GÂ¹ continuous

Now, deriving the math for this next step is,Â Â 

significantly more complicated thanÂ 
for the parametric continuity, but

long story short, we now constrain Pâ‚…, but we alsoÂ 
end up with another degree of freedom, called Î²â‚‚

Now watch what happens to the curvatureÂ 
comb as we apply this constraint

Itâ€™s aligned!

And we actually have two degreesÂ 
of freedom to control this shape

No matter what values we set Î²â‚ or Î²â‚‚ to,Â 
weâ€™ve successfully made this join GÂ² continuous

And of course, we can also move the controlÂ 
points, and the constraint still holds

Now, the problem is again that, even thoughÂ 
we have a few more degrees of freedom,

we have the same cascading problem ofÂ 
losing control over the entire spline

But, did it solve our problemÂ 
with shiny reflections?

well, yeah, looks like does!

It wasnâ€™t enough to have a continuousÂ 
tangent direction across this join,Â Â 

we also needed curvature continuity toÂ 
get rid of the seam in the reflection

It will even pass the harder, dot pattern test

This is why GÂ² continuity is veryÂ 
important in industrial design

as anything shiny will respond veryÂ 
strongly to the shape of the curves

GÂ¹ is when tangents are continuous

The curvature comb will also be alignedÂ 
with itself across the normal of the curve

GÂ² is when curvature is continuous

The curvature comb is now continuous inÂ 
and of itself, as you can see, it connects

Surfaces that are GÂ² or higher, areÂ 
sometimes called Class-A surfaces

GÂ³ is when the rate of changeÂ 
of curvature is continuous

The curvature comb will be, inÂ 
and of itself, tangent continuous

Usually, you donâ€™t go higher than GÂ³, asÂ 
you get very diminishing returns in outcome,Â Â 

and the math becomes significantlyÂ 
more unwieldy for each step

So this, is called Geometric Continuity

A more formal definition of geometric continuityÂ 
is actually pretty tricky to come up with

but one that I like, is thatÂ 
if you have two curves A and B

they are Gâ¿ continuous, if a function g(t)Â 
exists, so that A(t) and B(g(t)) are Câ¿ continuous

Itâ€™s kinda hard to wrap your head around, but,

it basically means that ifÂ 
we have full control over theÂ Â 

parameter/speed at which we changeÂ 
the t-value of one of the curves,

if itâ€™s possible to make them line up into Câ¿Â 
continuity, the original curves are Gâ¿ continuous

It might seem like a lot to take in, but IÂ 
canâ€™t stress enough just how important this is,Â Â 

continuity is what justifies theÂ 
existence of a whole host of splines

Letâ€™s summarize it all

Câ° and Gâ° are equivalent, and theyÂ 
are both positional continuity

It basically means your curvesÂ 
are simply connected in position

CÂ¹ is velocity continuity

as in, the first derivative is continuous,Â 
and, the position is also continuous

In other words, itâ€™s not enough for theÂ 
velocity to be continuous on its own

the previous derivativesÂ 
have to be continuous as well

GÂ¹ is tangent continuity, which alsoÂ 
requires that it has positional continuity

And, this same pattern continues

CÂ² is acceleration continuity, whichÂ 
also implies velocity continuity,Â Â 

which also implies positionalÂ 
continuity. You get the idea

CÂ³ is jolt continuity

GÂ² is curvature continuity, whichÂ 
again, implies the previous ones

Finally, we have GÂ³, which, in my opinion,Â 
is incorrectly called â€œtorsionâ€ continuity,Â Â 

itâ€™s also sometimes incorrectlyÂ 
called acceleration continuity

I donâ€™t know of a good nameÂ 
for this unfortunately,Â Â 

but itâ€™s effectively referring toÂ 
the rate of change of curvature

And so on! We can go on forever, until Câˆ and Gâˆ

Now, just like all the parametricÂ 
continuities include all previous levels,

and geometric continuity includesÂ 
all their previous levels,

thereâ€™s another connection here

CÂ¹ continuity is also necessarily GÂ¹ continuous

If you remember, mirroredÂ 
tangent points are also aligned

Effectively, G-continuity isÂ 
less strict than C-continuity

so the C continuities actually imply theirÂ 
corresponding geometric continuity as well,Â Â 

but, not the other way around

â€¦generally

before someone comments going â€œwellÂ 
actuallyâ€, I have to throw in a little caveat.

This implication only appliesÂ 
if the curves are regular

Now this is a bit of a, math moment, because ofÂ 
course â€œregularâ€ has a particular meaning here,Â Â 

that isnâ€™t the regular meaning of the word

A regular curve is one whereÂ 
the velocity is never 0

In other words, it never stands perfectly still

In fact, if we let this happen, a lot of our mathÂ 
weâ€™ve been talking about breaks down completely

Both getting the tangent direction,Â 
and calculating the curvature,Â Â 

divides by 0 if there is a point with 0 speed

Itâ€™s relatively hard to create a curve withÂ 
this pathological behavior, but, not impossible

For example, take this bÃ©zier curve

If we place the tangent points at this exactÂ 
location, weâ€™ve created a point with 0 speed

The curve is fully continuous, butÂ 
watch what happens to the tangent

It instantaneously flips, whichÂ 
means it has a tangent discontinuity

This is called a cusp, and itâ€™s oneÂ 
of those rare exceptions where theÂ Â 

curve is Câˆ but only Gâ° continuous, at this point

Weâ€™ve only been talkingÂ 
about BÃ©zier splines so far

but now that weâ€™re equipped with thisÂ 
extremely powerful tool to analyze continuity

I think itâ€™s time to visit the otherÂ 
splines in the extended universe

While the bÃ©zier curve is useful, itsÂ 
points are pretty, strange, are they not?

They donâ€™t really refer to anythingÂ 
specific, except the start and the end point

What if, we can come up with another typeÂ 
of spline, that makes more physical sense?

What if instead of supplying 4 points,Â 
we set the start and end point, as usual

but then, we also set the start and end velocities

Another way of looking at it - weâ€™reÂ 
supplying the boundary in position andÂ Â 

the boundary in velocity, and thenÂ 
solving for the connection between

This could be really useful whenÂ 
simulating physical objects,Â Â 

or even when interpolatingÂ 
movement data across a network

This means weâ€™ll have a spline thatÂ 
automatically satisfies these constraints

It effectively auto-calculates theÂ 
acceleration and jolt, to make this curve

Coming up with this spline isÂ 
actually pretty straightforward!

As with any other math problem,Â 
letâ€™s list our known values,Â Â 

and our constraints, and solve from there

The start of the curve should be at Pâ‚€

The end of the curve should be at Pâ‚

The velocity at the start should be vâ‚€

The velocity at the end should be vâ‚

4 equations means 4 unknownÂ 
variables to solve for,Â Â 

which means we can use a cubicÂ 
polynomial, solving for a, b, c and d

For example, one of them we can figureÂ 
out immediately just by looking at it

If the equation should give us Pâ‚€ when t = 0,Â Â 

then a, b and c are all multipliedÂ 
by 0, this means that d has to be Pâ‚€

The same goes for the derivativeÂ 
when t = 0, c has to be vâ‚€

And so on!

Iâ€™ll spare you all the intermediate steps,

hereâ€™s what we end up with,Â 
the matrix form of this spline

Now you might see the power of the matrix form

We now have the exact same setup where,Â Â 

we have a powers of t matrix on theÂ 
left, and a point matrix on the right

and then the characteristic matrix in the middle,Â Â 

giving us a kind of uniqueÂ 
fingerprint for this spline

Just like before, multiplying theÂ 
t-matrix by the characteristic matrix,Â Â 

gives us the basis function for each control point

This is what our new spline segment looks like!

The cool thing about this one is thatÂ 
thereâ€™s no more arbitrary tangent points

itâ€™s a spline that guaranteesÂ 
being at a specific place,Â Â 

with a certain velocity, at every control point,

giving us a lot of control overÂ 
the animation across the spline

If we analyze the first derivative, the velocity,Â Â 

you can see it matches at every point alongÂ 
this spline, and itâ€™s fully continuous

Though you mightâ€™ve noticed that the velocityÂ 
itself looks like it changes pretty harshly

so, letâ€™s look at the rate of changeÂ 
of the rate of change - acceleration

Here, you can see that we haveÂ 
our first proper discontinuity

Thereâ€™s an instantaneous changeÂ 
of acceleration at each join

In other words, while this spline doesnâ€™t meetÂ 
the criteria for CÂ² continuity, it is always CÂ¹

This type of spline where you supply explicitÂ 
velocities at each point, actually has a name!

This is called a Hermite spline.

Or, I mean, if youâ€™re French youâ€™reÂ 
probably dying inside right now

technically I think itâ€™s supposed to beÂ 
pronounced [bad french voice] Hermite

but nobody says it like thatÂ 
okay so cut me some slack

Anyway, as you can see, the hermiteÂ 
spline has explicit derivatives

And since both sides of each curveÂ 
join share the same velocity,Â Â 

it is also by necessity CÂ¹ continuous

Itâ€™s also worth noting - many hermite splinesÂ 
out there allow for two velocities per join

one for the incoming curve,Â 
and one for the outgoing curve,Â Â 

allowing you to make Câ° joins as well if you like

Itâ€™s also interpolating, itâ€™s passingÂ 
through every point and every velocity.

Now, the hermite spline is actually veryÂ 
closely related to the bÃ©zier spline

Converting between the two is trivially easy

If you divide each velocity by three, and addÂ 
its origin, you get the bezier tangent point

Flip that to the other side, and you now haveÂ 
the bÃ©zier control point for the other side

This creates the exact same curve as the hermiteÂ 
spline, but defined using bÃ©ziers instead

This also tells us that the bÃ©zier tangent points,Â Â 

correspond to exactly a thirdÂ 
of the velocity at the join

Next up is a spline weâ€™ve beenÂ 
neglecting this whole time,Â Â 

which might be the most popular one out there

People just rarely call it a spline

The linear spline!

Simply, drawing straight lines between each point

And we might scoff at this shitty little basicÂ 
spline but it actually has a few superpowers

First, itâ€™s passing through every control point!

No unnecessary bells and whistles,Â 
just straight to the point

(no pun intended)

Second, itâ€™s one of the few splines whereÂ 
arc-length parameterization is easy!

Arc length parameterization is when you wantÂ 
to interpolate a curve with a constant speed

which is actually very complicatedÂ 
for almost all splines out there

Third, itâ€™s very cheap to evaluate!Â 
Hereâ€™s the formula, itâ€™s just a lerp

But, unfortunately, itâ€™s only ever Câ° continuous

This property of passing through everyÂ 
point you supply is very useful though

so we might ask, is it possibleÂ 
to make a smoother spline,Â Â 

that will pass through them all,Â 
without having to specify derivatives?

One method, is to use a similarÂ 
strategy as the hermite spline

but instead of supplying the velocities ourselves,Â Â 

what if we calculate themÂ 
based on neighboring points?

We simply draw a vector between the neighboringÂ 
points, and use that as our velocity

And we repeat this process for every point

Look at the neighbors, form a vector,Â 
use that as our velocity, and so on.

This is the curve we get

Now, itâ€™s not, perfect, there are a few problems

First, it doesnâ€™t actuallyÂ 
pass through the endpoints,Â Â 

because theyâ€™re missing one of theirÂ 
neighbors to calculate a velocity from :(

But, we can sort of, pretendÂ 
we have an extra point,Â Â 

thatâ€™s just the second adjacent point mirrored

This lets us extend the curve to the endpoints

And we do the same for the last point

mirror the second last point around theÂ 
last one, to create this, ghost point

The second thing we mightÂ 
notice, is that the shape is,Â Â 

kinda weird isnâ€™t it? No offense to thisÂ 
spline of course but itâ€™s rather, lumpy

For example, this part right here is very flat

And this part, has a prettyÂ 
sharp turn around flat sections

A good tool for analyzingÂ 
this is the curvature comb

We can now clearly see the radicalÂ 
change in curvature across this spline

this sharp turn now has a very clear bump

and this flat section very clearly has curvatureÂ 
drop to almost 0, meaning itâ€™s linear, or, flat

Maybe itâ€™s a good idea to find some way toÂ 
mitigate these sharp turns and flat sections

What if we apply a scaleÂ 
factor to all these velocities?

Just, scale them all down by some value

You can see the curve becomes much more relaxed

And as we continue, it actuallyÂ 
approaches the linear spline

So with this scale parameter, we have a lotÂ 
more control over the sharpness of the curve

Bringing back the curvature comb,Â 
you can see that with a low scale,Â Â 

the curvature is extreme at the joins, andÂ 
quickly flattens along most of the segments

Increase the scale, and theÂ 
curve becomes much more relaxed,Â Â 

before getting a littleÂ 
bumpy again at a scale of 1

This type of spline with automatic tangents,Â Â 

a scale parameter, and interpolatingÂ 
all points, is called a cardinal spline

Hereâ€™s what its matrix form looks like!

As a side note, when you readÂ 
up on cardinal splines online,Â Â 

usually they call this scale â€œtensionâ€

but thereâ€™s no consensus onÂ 
how to apply this tension value

Iâ€™ve found three differentÂ 
methods across the internet

so Iâ€™m just giving up, and calling it scale

because I think this is the most computationallyÂ 
efficient way to define it anyway

The cardinal spline however, is usuallyÂ 
overshadowed by a closely related spline

When we set the scale to exactly Â½, theÂ 
spline looks, unusually relaxed, doesnâ€™t it?

Thereâ€™s no super flat sections, and no superÂ 
sharp turns where it doesnâ€™t feel justified

Itâ€™s a very, comfortable spline,Â 
where you pass in some points,Â Â 

and it â€œjustâ€ smoothly passesÂ 
through without too much effort

This is one of the most popular splinesÂ 
in game development for this reason,

and itâ€™s called the catmull-rom spline

It passes through every point (except theÂ 
endpoints that kind of need special handling)

As for continuity, the curvatureÂ 
comb tells us it is GÂ¹ continuous

Letâ€™s also look at the parametric continuity

The first derivative is fully continuous

The second derivative however, is not connected,Â 
you can see thereâ€™s discontinuities here,

so in the end, the catmull-romÂ 
spline is CÂ¹ continuous

And thereâ€™s no need to specifyÂ 
tangents, it â€œjust worksâ€

Of course, we can work out theÂ 
matrix form of the catmull-romÂ Â 

as well, letting us see its uniqueÂ 
fingerprint, and its basis functions

Letâ€™s actually take a closerÂ 
look at these basis functions,Â Â 

because they very clearly illustrateÂ 
their relationship with these points

Remember - the basis functionsÂ 
say how much every control pointÂ Â 

should influence a given point in the curve

and so if we arrange them a littleÂ 
differently, itâ€™s now easier to tellÂ Â 

how this represents the influence of aÂ 
single point, across 4 curve segments

To highlight this, letâ€™s focusÂ 
on one point, and its influence

The white section is where the point isÂ 
pulling on the curve with a positive influence

while the red section is getting pushed awayÂ 
by the point, as it has a negative influence

And this is how every control point behaves

Every point has its own wave like this,Â Â 

telling us how much it shouldÂ 
influence each part of the spline

This is what the full spectrum looks like

These influences then work together,Â 
to carry a point across the spline

Each point has a peak, where itÂ 
has 100% influence, guaranteeingÂ Â 

that the point on the curve will be atÂ 
the same location as the control point

and then its influence will dropÂ 
off, letting the next point take over

A really neat thing is that we can analyze theseÂ 
basis functions on their continuity directly

We can tell that this one isÂ 
continuous, because all curves meet,Â Â 

and the ends are meeting with the xÂ 
axis line, and so Câ° continuity is met

And what about the derivativeÂ 
of these basis functions?

They are also continuous

so weâ€™re at least CÂ¹, which we would expect

The second derivative,Â 
however, has discontinuities,Â Â 

you can see how there are gaps in theÂ 
graph, so weâ€™re still not CÂ² continuous

And isnâ€™t this a little frustrating?Â 
weâ€™ve explored all these new splines,Â Â 

and yet weâ€™re still stuck in CÂ¹ continuity land

Is there really no way to make a CÂ²,Â 
an acceleration continuous, spline?

Well, the best way to test this, is toÂ 
try doing it yourself. In other words,Â Â 

you know, fuck around and find out

Remember, the fingerprint of a cubic spline,Â 
is the characteristic matrix in the middle.

The challenge now is to find the 16 unknownÂ 
values, to make a CÂ² continuous spline.

This means, we need 16 equations to solveÂ 
this, and letâ€™s see if we can make it work!

The end of the first basis functionÂ 
has to be CÂ² continuous with the x axis

Thatâ€™s 3 equations

The join between the first twoÂ 
basis functions, also has to be CÂ²

So 6 equations

We want a CÂ² join betweenÂ 
the middle basis functions

Nine equations

CÂ² join between last two basis functions

12 equations

The start of the last basis functionÂ 
has to be CÂ² with the x axis

15 equations

We, did it, right? kinda? sort of?

Weâ€™ve actually fit all ofÂ 
our constraints in, right?

But, we need one more constraint, rightÂ 
now we have one degree of freedom.

Luckily, we are actually missing one more thing

The basis functions all have to add up to 1,Â 
because they are used as a convex combination

16 equations, 16 unknowns, this is now solvable!

Iâ€™ll be skipping the steps involved inÂ 
solving this system of 16 equations,Â Â 

but, just trust me that itâ€™s possible~

And so now, instead of theÂ 
catmull-rom basis functions,Â Â 

this is what our new basis functions look like!

This, looks, really reallyÂ 
smooth, I think weâ€™ve done it

This should be a cubic CÂ² continuous spline,Â Â 

where these are the values we endÂ 
up with in our characteristic matrix

And now, the big question -Â 
what does this spline look like?

Well, it looks like this

This might be, a little surprising

This is the first time the curvesÂ 
donâ€™t actually meet at control points

The curves and their joins areÂ 
completely outside of the control points.

But what about continuity? This was, after all,Â 
our goal (to make a ridiculously smooth spline)

If we look at the curvatureÂ 
comb, it seems GÂ² continuous!

The comb is aligned and connected acrossÂ 
the joins, no matter what shape we use,Â Â 

so our geometric continuity is looking really good

We can also tell it isnâ€™t GÂ³ continuous, sinceÂ 
the curvature comb itself isnâ€™t tangent continuous

Remember, when we tried to force the bÃ©zier splineÂ 
to be more continuous, we lost local control?

Moving any one control point, affected theÂ 
rest of the spline under those constraints.

But for this spline? Weâ€™ve still got local controlÂ Â 

over all the control points,Â 
and, keeping continuity intact!

So, the geometric continuity of this spline, is GÂ²

How about parametric continuity?

Well, we know itâ€™s at least Câ°, but did weÂ 
manage to make it CÂ² continuous as well?

Letâ€™s analyze it using animation this time!

If we notice any suddenÂ 
jumps, we have a discontinuity

The first derivative, in other words, theÂ 
velocity vectors, are all looking very smooth!

There are no sudden jumps as they pass the joins

So, this spline is at least CÂ¹ continuous

Next up is acceleration!

I like to think of the acceleration vectorsÂ 
as â€œpullingâ€ on the velocity vectors

and so I will draw them at theÂ 
tip of each velocity vector

And letâ€™s see if we notice any sudden jumps.

Again, the arrows never makeÂ 
any instantaneous change!

This means we succeeded - weÂ 
finally have a CÂ² continuous spline!Â Â 

possible itâ€™s CÂ³ continuous too?

Well, that would be impossible, since theÂ 
geometric continuity would have to be at least GÂ³

but if youâ€™re curious, this isÂ 
what the jolt vectors look like,Â Â 

pulling on the acceleration vectors

As expected, this is where we have our firstÂ Â 

discontinuity - the jolt vectorsÂ 
jump as we pass across the joins

So this soft little spline, whileÂ 
itâ€™s not interpolating, like, at all

it is actually CÂ² continuous

The reason this is possible is becauseÂ 
we sacrificed the interpolating property,Â Â 

in favor of acceleration continuity

Of course, this spline has a name!

itâ€™s called a B-spline, short for Basis Spline

Now that weâ€™ve been looking at theseÂ 
for a while, itâ€™s time for a quiz

What spline is this?

It might be hard to tell

It requires an unreasonably, actuallyÂ 
impossibly keen eye to determine

But clearly itâ€™s a bÃ©zier right?

You can practically see the controlÂ 
points just by looking at it

or hm wait maybe itâ€™s a hermite spline?

like you got the velocities and all

or I guess it could be a catmull-rom

passing through the points like that

no wait itâ€™s obviously a B-spline,Â 
look at how smooth this shape is!

or, what if itâ€™s, a trajectory!

with a starting point, initial velocity,Â 
initial gravity, and a change of gravity!

Itâ€™s the path in space with a changingÂ 
gravitational pull, traversing for one second

Thatâ€™s what this is

Look we can even do theÂ 
matrix form for trajectories!

which, personally I think is super cool inÂ 
and of itself, but, thatâ€™s a bit of a tangent

So, whatâ€™s happening here, trick question aside,Â Â 

is that, all of them canÂ 
generate this specific curve

Because all of these individual spline segmentsÂ Â 

weâ€™ve been talking about,Â 
are actually very similar

First, they are all uniform! They presumeÂ 
you want to interpolate in a 0 to 1 range

Second, they are all cubicÂ 
polynomials. They all fit this formula

So, if they can generate the same curve,Â 
whatâ€™s even the point of different splines?

So what I want you to keep in mind, is that,Â Â 

curves themselves are not splines!Â 
they are generated by splines

itâ€™s all about how multiple curves, connect,Â 
and how smoothly they are able to do so

What splines really describe, isÂ 
a transformation of control points

Given some control points, youÂ 
use a spline, to generate curves

If you swap out the spline, but keep theÂ 
control points, you get different curves

I want you to think of splines as curveÂ 
generators, that make certain promisesÂ Â 

about continuity in the curve joins, andÂ 
how it treats the input control points

So itâ€™s not just about the end result,Â 
but the process you used to get there

You know as they say, â€œitâ€™s aboutÂ 
the journey, not the destinationâ€

except itâ€™s still a little bitÂ 
about the destination too, but,

you know what I mean Iâ€™m trying toÂ 
make some sort of circular compos-

To summarize the family ofÂ 
splines we talked about today

The BÃ©zier spline gives usÂ 
a huge amount of control

It lets us create sharp corners, in otherÂ 
words, intentional tangent discontinuities

Which is very useful when defining shapes likeÂ 
fonts or vector graphics, such as this heart

Hermite splines let usÂ 
define explicit derivatives,Â Â 

guaranteeing it will pass throughÂ 
its points with specific velocities

This is the most common spline for animation,Â Â 

and its the basis for the animationÂ 
curve editor in Unity, the game engine

For example, letâ€™s say we wantÂ 
to animate a jumping square

We can model its vertical position overÂ 
time using a non-uniform 1D hermite spline

Remember, non-uniform means the timeÂ 
interval between joins can vary,Â Â 

which is a little bit more complex thanÂ 
the uniform hermite we talked about today

Anyhow, this lets us animate it!

We can use another spline to make it do aÂ 
little flip, by changing its angle over time

Letâ€™s also animate its scale toÂ 
make it all squishy and goopy~

The Catmull-Rom is the easiest wayÂ 
to â€œjustâ€ smooth a set of points

when you want it to automaticallyÂ 
calculate the velocity, which is veryÂ Â 

useful for path smoothing, where passingÂ 
through exact points can be important

The B-Spline guarantees CÂ² continuity, and soÂ 
itâ€™s the most popular spline in industrial design

as it allows you to design curvature sensitiveÂ 
reflective surfaces without losing local control

In addition, some animationsÂ 
are also acceleration sensitive

such as the movement of a camera,Â Â 

where instantaneous changes inÂ 
acceleration look pretty jarring

The linear spline is not very smooth, butÂ 
in some cases it either doesnâ€™t matter,Â Â 

or, you have so many control pointsÂ 
that it appears smooth in context

For example, if you need to draw a curveÂ 
in a youtube video about about splines

the easiest and most practical solutionÂ 
is to simply sample the curve denselyÂ Â 

enough so that it looks smooth,Â 
when drawing it as a set of lines

Now, weâ€™ve only really scratchedÂ 
the surface of this enormous topic

In this video, weâ€™ve mostly been talking aboutÂ 
a specific subset - uniform cubic splines

All of these have counterparts of higher degrees

All of them also have non-uniform variants,Â 
like the non-uniform hermite spline we justÂ Â 

used for the jumping box animation, whereÂ 
you have full control over not only theÂ Â 

position and velocity at the control points,Â 
but also the time at which it should reach it

Or the non-uniform catmull-rom which hasÂ 
some interesting geometric propertiesÂ Â 

when you set the knot intervals basedÂ 
on the distance between the points.

And while the uniform B-spline we lookedÂ 
at earlier was useful in its own right,

if we allow changing the time or knotÂ 
values, we get the non-uniform B-spline

All the continuity promises ofÂ 
the B-spline are still intact,Â Â 

but each curve in the spline will now useÂ 
unique basis functions, based on the knot values

This, in turn, affects the shape of the spline too

Thereâ€™s an even more advanced variant,Â 
called the non-uniform rational B-spline,Â Â 

that lets you control the priority,Â 
or, weight, of each control point

making the curves gravitate towardÂ 
or away from specific control points

You might even have heard of this one before

itâ€™s more commonly known by its short name

NURBS

And, remember the color gradientÂ 
in the beginning of the video?

Well, every color lives in the space of the RGBÂ 
cube, where the dimensions are red, green and blue

So every color key in a gradient, is a controlÂ 
point of a linear spline, in color space

Then, if we want to use thisÂ 
as a gradient map on an image,Â Â 

instead of using time as our input, we use theÂ 
brightness of its pixels to sample the gradient

The output is then in fullÂ 
color, based on our color spline

If we then move the controlÂ 
points, in other words,Â Â 

change the colors and time of ourÂ 
keys, the output changes along with it

As you can see, splines show up inÂ 
many, perhaps, unexpected places

The whole field goes much deeperÂ 
than what we had time for today

but I hope you found thisÂ 
little exploration of mathÂ Â 

noodles interesting - and thankÂ 
you all so much for watching â¤

I wanna give a huge shoutout to Jazz Mickle, forÂ 
the audio & music that she made for this video

I also wanna thank Thor andÂ 
Salad and Toast, our cats,Â Â 

that, did a good job interruptingÂ 
me recording the voiceover for this

This here is salad

He's currently chasing ThorÂ 
which he's not allowed to do

He's being a bad boy

yeah

And then finally, I wanna thank all of you! All ofÂ Â 

the patreon supporters that haveÂ 
made this entire video possible

So thank you so much for supporting me.

I also wanna say that if you're not a supporterÂ 
on patreon, I think you should me! If you like theÂ Â 

work that I do. Patreon is also the,, it's likeÂ 
the only platform, that only takes 5% of the cut

most other platforms take like 30% or 50%, whichÂ 
is absolutely ridiculous, and so patreon is likeÂ Â 

a really really good place to support workÂ 
in general, so I would really recommend that!

So, this video took, about a year to make.Â 
A little bit over a year, I think, from,Â Â 

starting research, to releasing it on youtube

I think the scope of this video wasÂ 
way too big. I kinda realized that,Â Â 

splines is a very big topic. Like there are soÂ 
many different avenues you can go, there's soÂ Â 

many different things you can talk about, and, IÂ 
kept like adding more and more stuff to the video,Â Â 

and I always wanna go like into, in-depth aboutÂ 
every topic I talk about. And, it's impossible,Â Â 

for this. I can't go too in-depth about splines,Â 
because then the video is gonna be like,Â Â 

12 hours long, if I wanna cover everything thatÂ 
I researched. And so, I think going forward,Â Â 

I realized that, I should pick smaller topics!Â 
Or, kinda plan from the beginning to make themÂ Â 

in chunks, instead of planning for making a veryÂ 
long video. The initial goal for this video wasÂ Â 

to make a video that starts with lerp, and endsÂ 
at NURBS, which, I guess I kind of did? ExceptÂ Â 

I didn't go into detail, how NURBS work. BecauseÂ 
we didn't really talk about non-uniform splines.

This project was, incredibly big. I think I gotÂ 
like 3-4 months of work done, and then I burnt outÂ Â 

completely, and, I couldn't work on it. I justÂ 
couldn't. I started shutting down. I couldn't,Â Â 

like, focus a single moment on, working onÂ 
this, for several months. Which was reallyÂ Â 

really frustrating, because, I'm someone whoÂ 
really like, gets a lot of value out of beingÂ Â 

productive and getting things done. And so itÂ 
was, very hard to deal with, and I think I'mÂ Â 

still recovering from it. I wish I'd pickedÂ 
a smaller scope for this video, because now,Â Â 

even though I'm happy it's the lengthÂ 
it is, and it has a lot of information,Â Â 

at every corner of the video, I know that thereÂ 
are things I'm leaving out that I really wanted toÂ Â 

talk about. But I just couldn't make all of thoseÂ 
animations and all of those ideas. I couldn't justÂ Â 

cram it all into this video, and so unfortunately,Â 
it is "just" one hour long, and it only covers theÂ Â 

most popular uniform splines. But, I mean, I'veÂ 
done all of that research, I've implemented all ofÂ Â 

that in code, and so if I want to make a futureÂ 
video about non-uniform splines, or NURBS, or,Â Â 

specific other types of splines, I can do that.Â 
And so I have the option in the future at least

Okay, so, I wanted to do a bitÂ 
of a, prediction game, this time!Â Â 

As usual, youtube comments are the way they are,Â 
and so I thought I'd, you know, now that we're atÂ Â 

the tail end of the video, where, statistically,Â 
none of you are here. Like you who are watchingÂ Â 

this, you are the exception. There's like a-Â 
extremely- everybody's trailing off at thisÂ Â 

point. And so you are like 1% or something.Â 
And so I'd like to share with you, a littleÂ Â 

bit of a thing we can see, if the chat (youtubeÂ 
comments) is gonna get started talking about.

Here are my predictions

I predict that, someone is gonna correct me, or,Â Â 

incorrectly correct me, aboutÂ 
how I pronounced "osculating".

In the bÃ©zier video, I said [ossu-layding]Â 
for the osculating circle, I mispronounced it.Â Â 

But people thought I said "oscillating", like,Â 
the, O-S-C-I-L-L and so people kept correctingÂ Â 

me about that, and it was a nightmare for like,Â 
several days, I just had notifications about thatÂ Â 

forever and ever. And so I think now I'm gonnaÂ 
get the opposite, now I pronounced it correctly,Â Â 

and now people are gonna incorrect me, inÂ 
the comments. And so that's gonna be fun!

I think someone is gonna be like "oh yourÂ 
should reduce the matrix form of the trajectory,Â Â 

because you can simplify that diagonalÂ 
matrix". Someone is gonna do that

People are gonna think that my definitionÂ 
of splines is either wrong, or, they'reÂ Â 

gonna complain that I never accurately definedÂ 
what a spline is. I think this might happen,Â Â 

I think a lot of people use the wordÂ 
spline to mean different things, but,Â Â 

hopefully I made my case for my definition.

Someone is gonna say, "you forgot to mention thatÂ 
NURBS can make circles", which, I didn't forget,Â Â 

I left it out, because I think it's an interestingÂ 
topic on its own, and so in the spirit of tryingÂ Â 

to make shorter videos, this is a perfect,Â 
bitesize topic to talk about in a single video,Â Â 

and so I think I'm gonna talk about circularÂ 
arcs and splines in a video in the future.

And then there's a bunch of topics where, IÂ 
think people are gonna be like "you forgotÂ Â 

to talk about [this]" because they wannaÂ 
like, flaunt their knowledge about splines.Â Â 

So I think we're gonna get people saying I forgotÂ 
to talk about natural splines, polar blossoming,Â Â 

the DeBoor construction of the B-spline,Â 
the A-frame construction, knot insertion,Â Â 

degree elevation, knot multiplicity, theÂ 
Î²-spline, the kochanek-bartels spline (idkÂ Â 

how to pronounce it, it's something likeÂ 
that), spiro splines, biarcs, and lagrangeÂ Â 

interpolation, which, is not even a spline, but..
I think those are the things that people are gonnaÂ Â 

think that I forgot to mention, but, I actuallyÂ 
just left them out, because I need to have,Â Â 

a life, and not continue burning out. Let's sayÂ 
we're just saving all of those for a future video.

Oh yeah another thing I also left out was that, IÂ 
spent quite a lot of time trying to invent my ownÂ Â 

spline. I really wanted to end the video inventingÂ 
something new. And kind of, contribute to theÂ Â 

field, I suppose. That ended up almost happening.Â 
I did make a spline, but, it had a bad shape.Â Â 

It looked ugly. The point was that I wanted toÂ 
make a spline, that would pass through everyÂ Â 

point, kinda like the catmull-rom, but it wouldÂ 
do that with CÂ² continuity. The tradeoff was that,Â Â 

I made it one degree higher, it was quarticÂ 
instead of cubic. And it, actually works? IÂ Â 

managed to make it pass through points withÂ 
CÂ² continuity, but, it was just a bad shape,Â Â 

it was like almost linear between the points,Â 
and then it did a quick curve, and then it wasÂ Â 

linear again between the other points, and so,Â 
it ended up not being a very useful spline,Â Â 

which, I was a little bit disappointed once IÂ 
finally solved it. And I could only work outÂ Â 

the uniform variant, not the non-uniformÂ 
variant. And so that's not in the video.

One thing that I noticed when making this is that,Â 
I feel like I struggle to kind of find my voice. IÂ Â 

don't know what my cadence is supposed to be, orÂ 
how I should sound in a video essay. I do most ofÂ Â 

my work livestreaming, and so, there, I sound muchÂ 
more natural than I do reading a script. I thinkÂ Â 

I might be experimenting a little bit more withÂ 
that in the future, like changing the style of myÂ Â 

presentations or youtube videos I guess. I alwaysÂ 
feel like my personality is not shining through,Â Â 

when I make this type of video. Because theÂ 
script is so straight, I really think it'sÂ Â 

missing so much of, me. And so I might change itÂ 
up a little bit, or I'll just learn as I go alongÂ Â 

I guess. I just feel like my delivery is not,Â 
interesting. I feel like it's very flat and,Â Â 

objective, and lacking personality.Â 
But we'll see, hopefully it's fine!

Oh, I also wanted to mention, a lot ofÂ 
the work that I've done making this video,Â Â 

I've been streaming it on twitch. I also do myÂ 
live lectures on youtube, and so if you wannaÂ Â 

watch a series on shader programming, if you'reÂ 
watching this live, there's gonna be a seriesÂ Â 

on that next week, that I'm gonna streamÂ 
on youtube, so, be sure to check that out.

But otherwise, again, thank you so much forÂ 
watching this video. This was such a long journey.Â Â 

I'm, again, I have ideas for shorter video in theÂ 
future. I have, I think I'm gonna make a videoÂ Â 

about like a tiny topic, a topic like, "whatÂ 
are radians?". That seems like a very bitesizeÂ Â 

topic that I can then accidentally blow up to 30Â 
minutes, but 30 minutes is a lot more manageableÂ Â 

than 1 hour, so, hopefully that's what's gonnaÂ 
happen. Hopefully I'm not just gonna release oneÂ Â 

video per year, I think I'm gonna try and increaseÂ 
that frequency a little bit more by pickingÂ Â 

smaller topics, but, again, thank you so muchÂ 
for joining, and I will see you all next time!

